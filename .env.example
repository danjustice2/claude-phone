# ====================================
# Claude Phone Configuration
# ====================================
# Copy this to .env and fill in your values

# ====================================
# Network Configuration
# ====================================

# Your server's LAN IP (CRITICAL for RTP audio)
# This IP goes into SDP packets so Asterisk/FreeSWITCH know where to send audio
EXTERNAL_IP=10.0.0.100

# ====================================
# Asterisk PBX Configuration
# ====================================

# Asterisk SIP port (default: 5060)
ASTERISK_SIP_PORT=5060

# Password for user phone extensions (1001, 1002)
# Used by SIP softphones to register with Asterisk
USER_EXT_PASSWORD=changeme

# ====================================
# Drachtio Configuration
# ====================================

DRACHTIO_HOST=127.0.0.1
DRACHTIO_PORT=9022
DRACHTIO_SECRET=cymru

# SIP port for drachtio (5070 to avoid conflict with Asterisk on 5060)
# This MUST match the port in docker-compose.yml drachtio command
DRACHTIO_SIP_PORT=5070

# ====================================
# FreeSWITCH Configuration
# ====================================

FREESWITCH_HOST=127.0.0.1
FREESWITCH_PORT=8021
FREESWITCH_SECRET=JambonzR0ck$

# ====================================
# SIP Registration (with local Asterisk)
# ====================================

# SIP domain for From/To headers
SIP_DOMAIN=claude-phone.local

# Asterisk registrar address (local since Asterisk runs in Docker)
SIP_REGISTRAR=127.0.0.1
SIP_REGISTRAR_PORT=5060

# Default extension for outbound calls
SIP_EXTENSION=9000

# SIP auth credentials (must match devices.json and Asterisk config)
SIP_AUTH_ID=9000
SIP_PASSWORD=claude9000

# Default caller ID for outbound PSTN calls
DEFAULT_CALLER_ID=+15551234567

# SIP trunk host for outbound calls (local Asterisk)
SIP_TRUNK_HOST=127.0.0.1

# ====================================
# Claude API Server
# ====================================

# URL to your Claude API server (runs on your API server with Claude Max)
CLAUDE_API_URL=http://10.0.0.200:3333

# ====================================
# ElevenLabs TTS
# ====================================

ELEVENLABS_API_KEY=your-elevenlabs-api-key

# Default voice ID (if not specified per-device)
ELEVENLABS_VOICE_ID=your-default-voice-id

# ====================================
# OpenAI (Whisper STT)
# ====================================

OPENAI_API_KEY=your-openai-api-key

# ====================================
# Application Settings
# ====================================

# HTTP server port for API and audio file serving
HTTP_PORT=3000

# WebSocket port for audio streaming from FreeSWITCH
WS_PORT=3001

# Audio files directory
AUDIO_DIR=/app/audio

# ====================================
# Outbound Call Settings
# ====================================

# Maximum conversation turns for outbound calls
MAX_CONVERSATION_TURNS=10

# Ring timeout in seconds
OUTBOUND_RING_TIMEOUT=30

# ====================================
# Optional: Debug
# ====================================

# DEBUG=voice-app:*
